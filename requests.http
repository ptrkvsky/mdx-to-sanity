### Variables
@baseUrl = http://localhost:7777
@apiUrl = {{baseUrl}}/api/scrape
@markdownToSanityUrl = {{baseUrl}}/api/markdown-to-sanity

### Test de la route racine
GET {{baseUrl}}/

### Test du statut du scraping
GET {{apiUrl}}/status

### Scraper une URL (POST)
POST {{apiUrl}}
Content-Type: application/json

{
  "url": "https://tkdodo.eu/blog/omit-for-discriminated-unions-in-type-script"
}

### Scraper une autre URL
POST {{apiUrl}}
Content-Type: application/json

{
  "url": "https://tkdodo.eu/blog/context-inheritance-in-tan-stack-router"
}

### Test avec une URL invalide (devrait retourner une erreur)
POST {{apiUrl}}
Content-Type: application/json

{
  "url": ""
}

### Test sans URL (devrait retourner une erreur)
POST {{apiUrl}}
Content-Type: application/json

{
}

### Convertir un fichier MD en Post Sanity (sans publier)
POST {{markdownToSanityUrl}}
Content-Type: application/json

{
  "filePath": "storage/markdown/2025-11-25-omit-pour-les-unions-discrimines-en-typescript.md",
  "publish": false
}

### Convertir un fichier MD en Post Sanity et publier sur Sanity
POST {{markdownToSanityUrl}}
Content-Type: application/json

{
  "filePath": "storage/markdown/2025-11-25-omit-pour-les-unions-discrimines-en-typescript.md",
  "publish": true
}

### Convertir du Markdown directement (sans fichier)
POST {{markdownToSanityUrl}}
Content-Type: application/json

{
  "markdown": "## Titre de test\n\nCeci est un **paragraphe** de test avec du *texte* en italique.",
  "frontmatter": {
    "title": "Article de test",
    "description": "Description de test pour l'article"
  },
  "publish": false
}
